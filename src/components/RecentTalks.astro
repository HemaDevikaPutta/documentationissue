---
import { getFeaturedTalks } from "../utils/contentCollections";
import HLineText from "./HLineText.astro";
import Link from "./Link.astro";
import Section from "./Section.astro";
const talks = await getFeaturedTalks();
---

<Section hasYPadding={false}>
  <div class="grid gap-24">
    {
      talks.map((talk) => (
        <div class="flex lg:flex-row flex-col gap-4 items-start :items-center">
          <div class="rounded-full border h-20 w-20 border-white border-opacity-50 flex items-center justify-center">
            <img
              class="rounded-full w-14 h-14"
              src={talk.data.conferenceLogo}
              alt={talk.data.conferenceName}
            />
          </div>
          <div class="grow">
            <p class="text-brand">{talk.data.conferenceName}</p>
            <h3 class="text-2xl tracking-wide font-light max-w-lg">
              {talk.data.title}
            </h3>
            <p class="opacity-60 text-sm">
              {talk.data.pubDate.toLocaleDateString("en-us", {
                year: "numeric",
                month: "short",
              })}
            </p>
          </div>

          <Link
            classStr=""
            href={talk.data.videoLink}
            text="Watch on YouTube"
            isFancy={true}
          />
        </div>
      ))
    }
  </div>
  <div class="my-20">
    <HLineText />
  </div>
</Section>
